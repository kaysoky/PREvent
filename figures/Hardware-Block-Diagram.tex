\begin{scaletikzpicturetowidth}{0.9\columnwidth}
\begin{tikzpicture}[scale=\tikzscale, every node/.style={scale=\tikzscale}]
    % Sensor hub
    \node[draw, rectangle, Component]
        at (0, 0) (Arduino) {Arduino};

    % Output module
    \node[draw, rectangle, Component, anchor=west]
        at ($(Arduino.east) + (1, 0)$) (Bluetooth) {Bluetooth};

    % Sensors
    \node[draw, rectangle, Component, anchor=north]
        at ($(Bluetooth.south) - (0, 1)$) (PM Sensor) {PM \\ Sensor};
    \node[draw, rectangle, Component, anchor=south]
        at ($(Bluetooth.north) + (0, 1)$) (Humidity) {Humidity \\ Sensor};
    \node[draw, rectangle, Component, anchor=south]
        at ($(Arduino.north) + (0, 1)$) (Gas Sensor) {Gas \\ Sensor};

    % Power
    \node[draw, rectangle, Component, anchor=east]
        at ($(Arduino.west) - (1, 0)$) (Booster) {Boost \\ Converter};
    \node[draw, rectangle, Component, anchor=east]
        at ($(Gas Sensor.west) - (1, 0)$) (Bucker) {Buck \\ Converter};
    \node[draw, rectangle, Component, anchor=east]
        at ($($(Booster.west)!0.5!(Bucker.west)$) - (1, 0)$) (Power) {Battery};
    \node[draw, rectangle, Component, anchor=north]
        at ($(Power.south) - (0, 1)$) (Charger) {Micro-USB \\ Charger};

    % Sensor interconnects
    \draw[->, Flow Arrow] (PM Sensor) -- (Arduino)
        node[pos=0.5, right] {Digital};
    \draw[->, Flow Arrow] (Humidity) -- (Arduino)
        node[pos=0.5, right] {I$^2$C};
    \draw[->, Flow Arrow] (Gas Sensor) -- (Arduino)
        node[pos=0.5, left] {Analog};

    % Power lines
    \draw[->, Flow Arrow] (Charger) -- (Power);
    \draw[->, Flow Arrow] (Power) -- (Booster) -- (Arduino);
    \draw[->, Flow Arrow] (Power) -- (Bucker) -- (Gas Sensor);

    % To phone
    \draw[->, Flow Arrow] (Arduino) -- (Bluetooth);

\end{tikzpicture}
\end{scaletikzpicturetowidth}
